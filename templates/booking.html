{% extends 'base.html' %}
{% load static %}

{% block content %}

<!-- alert message  -->
{% if messages %}
{% for message in messages %}
<div class="alert alert-{{ message.tags }}">{{ message }}</div>
{% endfor %}
{% endif %}

<!-- page heading -->
<section id="book-a-table" class="book-a-table bg-about">
    <div class="menu bg-about">
        <h2>Book A Table</h2>
        <hr class="hor-line">
    </div>
    <div class="container" data-aos="fade-up">
        <div class="row">
            <div class="col-md-8 offset-md-2 text-center">
                <p class="mb-5">Reserve a table at Dowling's Bar & Grill and enjoy our award-winning American
                    inspired food and our amazing drinks menu. See you there!
                </p>
            </div>
        </div>

        <!-- booking form -->
        <form action="{% url 'booking' %}" method="POST">
            {% csrf_token %}
            <div class="form-row">
                <div class="col-lg-4 col-md-6 form-group">
                    <label for="name">Your Name</label>
                    <input type="text" name="booking-name" class="form-control" id="name" placeholder="Your Name">
                </div>
                <div class="col-lg-4 col-md-6 form-group">
                    <label for="email">Your Email</label>
                    <input type="email" class="form-control" name="booking-email" id="email" placeholder="Your Email">
                </div>
                <div class="col-lg-4 col-md-6 form-group">
                    <label for="phone">Your Phone</label>
                    <input type="number" class="form-control" name="booking-phone" id="phone" placeholder="Your Phone">
                </div>
                <div class="col-lg-4 col-md-6 form-group">
                    <label for="date">Booking Date</label>
                    <input type="date" name="booking-date" class="form-control" id="date" required>
                </div>
                <div class="col-lg-4 col-md-6 form-group">
                    <label for="time">Booking Time</label>
                    <select name="booking-time" class="form-control" id="time">
                        <option value="" disabled selected>Choose Time</option>
                        <!-- options... -->
                    </select>
                </div>
                <div class="col-lg-4 col-md-6 form-group">
                    <label for="people">Number of People</label>
                    <select class="form-control" name="booking-people" id="people">
                        <option value="" disabled selected>Number of people</option>
                        <!-- options... -->
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="message">Message</label>
                <textarea class="form-control" name="booking-message" id="message" placeholder="Message"></textarea>
            </div>
            <button type="submit" class="btn bg-green-brand white-brand float-right mt-3">Book a Table</button>
        </form>
    </div>
</section>

<!-- JavaScript to make sure booking date is in the future -->
<script>
    const dateInput = document.getElementById("date");
    const currentDate = new Date().toISOString().split('T')[0];
    dateInput.min = currentDate;
</script>

{% endblock content %}